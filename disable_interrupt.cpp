
/*********************************************************************
*
*   NAME:
*       disable_interrupt.cpp
*
*   DESCRIPTION:
*       C++ RAII implementation for disabling interrupts
*
*   Copyright 2023 Nate Lenze
*
*********************************************************************/

/*--------------------------------------------------------------------
                              INCLUDES
--------------------------------------------------------------------*/
#include "disable_interrupt.hpp"
#include "hardware/sync.h"

/*--------------------------------------------------------------------
                          GLOBAL NAMESPACES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                          LITERAL CONSTANTS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                                TYPES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                           MEMORY CONSTANTS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                              VARIABLES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                                MACROS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                              PROCEDURES
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
utl::disable_interrupts()
--------------------------------------------------------------------*/
/*********************************************************************
*
*   PROCEDURE NAME:
*      disable_interrupts::disable_interrupts (constructor)
*
*   DESCRIPTION:
*       disable_interrupts class constructor
*
*********************************************************************/
utl::disable_interrupts::disable_interrupts
    (
    void
    ) 
{
this->p_int_status = save_and_disable_interrupts();
} /* disable_interrupts::disable_interrupts() */

/*********************************************************************
*
*   PROCEDURE NAME:
*      disable_interrupts::~disable_interrupts (deconstructor)
*
*   DESCRIPTION:
*       disable_interrupts class deconstructor
*
*********************************************************************/
utl::disable_interrupts::~disable_interrupts
    (
    void
    ) 
{
restore_interrupts( this->p_int_status );
} /* disable_interrupts::~disable_interrupts() */
